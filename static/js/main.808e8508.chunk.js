(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{120:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),i=a(34),o=(a(99),a(31)),u=a(76),m=a(171),s=a(40),d=a.n(s),p=a(46),E=a(25),h=a(47),f=a(172),v=a(131),b=a(48),y=a.n(b),g=y.a.create({baseURL:"https://api.opencagedata.com"});function w(e){return g.get("/geocode/v1/json",{params:{key:"a99cd7aca4f6402d868d4f0bd4872b61",q:e,no_annotations:1,abbrv:1}}).then((function(e){return e.data.results.map((function(e){var t=e.formatted,a=e.geometry;return{name:t,lat:a.lat,lon:a.lng}}))}))}a(120);function j(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(E.a)(l,2),u=o[0],m=o[1],s=Object(n.useState)(!1),b=Object(E.a)(s,2),y=b[0],g=b[1],j=Object(n.useState)(),x=Object(E.a)(j,2),O=x[0],k=x[1],N=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=16;break}return e.prev=1,g(!0),e.next=5,w(u);case 5:t=e.sent,g(!1),c(t),0===t.length?k("There were no results matching your search text"):k(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),k("There was an error trying to find matching locations");case 14:e.next=17;break;case 16:c([]);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"Search"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"input"},r.a.createElement(f.a,{name:"searchText",placeholder:"Weather Location",onChange:function(e){return m(e.target.value)},onKeyDown:function(e){13===e.keyCode&&N()},disabled:y})),r.a.createElement("div",{className:"button"},r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:N,disabled:y},"Search"))),O&&r.a.createElement("div",{className:"results error"},O),a.length>0&&r.a.createElement("div",{className:"results"},"Did you mean?",a.map((function(e){return r.a.createElement("div",{className:"link",key:e.name},r.a.createElement(i.b,{to:"/locations/lat/".concat(e.lat,"/lon/").concat(e.lon,"?").concat(h.stringify({name:e.name}))},e.name))}))))}var x=a(78),O=a(30),k=a(168),N=a(175),S=a(169),L=a(174),C=a(170),W=a(77),I=y.a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),D=function(e,t){return Object(W.a)(1e3*e,t)},H=function(e,t){return"http://openweathermap.org/img/wn/".concat(e[0].icon).concat(t?"@2x":"",".png")},M=function(e,t){var a=e.dt,n=e.temp,r=e.feels_like,c=e.humidity,l=e.uvi,i=e.wind_speed,o=e.weather;return{temperature:n,description:o[0].description,feelsLike:r,humidity:c,wind:i,uvIndex:l,icon:H(o,!0),date:D(a,t)}},T=function(e,t){return e.map((function(e){var a=e.dt,n=e.sunrise,r=e.sunset,c=e.temp,l=e.humidity,i=e.weather,o=e.uvi;return{min:c.min,max:c.max,description:i[0].description,humidity:l,uvIndex:o,icon:H(i),date:D(a,t),sunrise:D(n,t),sunset:D(r,t)}}))},F=function(e,t){return e.map((function(e){var a=e.dt,n=e.temp,r=e.weather;return{temperature:n,description:r[0].description,icon:H(r),date:D(a,t)}}))};function U(e){var t=e.lat,a=e.lon,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"imperial";return I.get("/onecall",{params:{appid:"a2eff798997a0324e4ac42c8123d91b3",lat:t,lon:a,units:n}}).then((function(e){return e.data})).then((function(e){var t=e.current,a=e.hourly,n=e.daily,r=e.timezone;return{current:M(t,r),daily:T(n,r),hourly:F(a,r)}}))}var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"imperial";return"".concat(Math.round(e),"\xb0 ").concat("metric"===t?"C":"F")};function J(e){var t=e.conditions,a=e.units,n=void 0===a?"imperial":a;return t?r.a.createElement("div",{id:"CurrentWeather"},r.a.createElement("img",{src:t.icon,alt:t.description,className:"weather-icon"}),r.a.createElement("div",{className:"weather-description"},t.description),r.a.createElement("h2",null,z(t.temperature,n)),r.a.createElement("div",null," Feels Like: ",z(t.feelsLike,n)," "),r.a.createElement("div",null," Humidity: ",t.humidity,"% "),r.a.createElement("div",null," Wind Speed: ",t.wind," ","metric"===n?"m/s":"mph"," "),r.a.createElement("div",null," UV Index: ",t.uvIndex," ")):null}var _=a(163),B=a(167),P=a(166),R=a(162),V=a(164),q=a(165);function A(e){var t=e.forecast,a=e.units,n=void 0===a?"imperial":a;return t?r.a.createElement(R.a,{id:"DailyWeather",className:"weather-table-container"},r.a.createElement(_.a,{size:"small",stickyHeader:!0},r.a.createElement(V.a,null,r.a.createElement(q.a,null,r.a.createElement(P.a,null," Date "),r.a.createElement(P.a,null),r.a.createElement(P.a,null,"Description"),r.a.createElement(P.a,null,"High/Low"),r.a.createElement(P.a,null,"Humidity"),r.a.createElement(P.a,null,"UV Index"),r.a.createElement(P.a,null,"Sunrise/Sunset"))),r.a.createElement(B.a,null,t.map((function(e,t){return r.a.createElement(q.a,{key:e.date,"data-testid":"day-"+t},r.a.createElement(P.a,null," ",Object(O.a)(e.date,"eee P")),r.a.createElement(P.a,null,r.a.createElement("img",{src:e.icon,alt:e.description,className:"weather-icon"})),r.a.createElement(P.a,{className:"weather-description"},e.description),r.a.createElement(P.a,null,z(e.max,n)," / ",z(e.min,n)),r.a.createElement(P.a,null," ",e.humidity,"% "),r.a.createElement(P.a,null," ",e.uvIndex," "),r.a.createElement(P.a,null," ",Object(O.a)(e.sunrise,"p")," / ",Object(O.a)(e.sunset,"p")," "))}))))):null}function K(e){var t=e.forecast,a=e.units,n=void 0===a?"imperial":a;return t?r.a.createElement(R.a,{id:"HourlyWeather",className:"weather-table-container"},r.a.createElement(_.a,{size:"small",stickyHeader:!0},r.a.createElement(V.a,null,r.a.createElement(q.a,null,r.a.createElement(P.a,null," Time "),r.a.createElement(P.a,null),r.a.createElement(P.a,null,"Description"),r.a.createElement(P.a,null,"Temperature"))),r.a.createElement(B.a,null,t.map((function(e,t){return r.a.createElement(q.a,{key:e.date,"data-testid":"hour-"+t},r.a.createElement(P.a,null," ",Object(O.a)(e.date,"eee p")," "),r.a.createElement(P.a,null,r.a.createElement("img",{src:e.icon,alt:e.description,className:"weather-icon"})),r.a.createElement(P.a,{className:"weather-description"}," ",e.description," "),r.a.createElement(P.a,null," ",z(e.temperature,n)," "))}))))):null}a(126);function Q(e){var t=e.children,a=e.value,n=e.index,c=Object(x.a)(e,["children","value","index"]);return(r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,className:"tab-panel"},c),a===n&&r.a.createElement(L.a,{p:3},t)))}function $(){var e=Object(o.g)(),t=e.lat,a=e.lon,c=Object(n.useState)(),l=Object(E.a)(c,2),i=l[0],u=l[1],m=r.a.useState((function(){return window.localStorage.getItem("unitSystem")||"imperial"})),s=Object(E.a)(m,2),f=s[0],b=s[1];r.a.useEffect((function(){window.localStorage.setItem("unitSystem",f)}),[f]),Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||null==a){e.next=5;break}return e.next=3,U({lat:t,lon:a},f);case 3:n=e.sent,u(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a,f]);var y=Object(o.f)().search,g=Object(n.useState)(0),w=Object(E.a)(g,2),j=w[0],x=w[1];if(!i)return"Loading Weather...";var L=h.parse(y,{ignoreQueryPrefix:!0}).name;return L||(L="Latitude ".concat(t,", Longitude ").concat(a)),r.a.createElement("div",{id:"WeatherLanding"},r.a.createElement(k.a,{position:"static"},r.a.createElement(N.a,{value:j,onChange:function(e,t){x(t)},"aria-label":"simple tabs example"},r.a.createElement(S.a,{label:"Current"}),r.a.createElement(S.a,{label:"48 Hour"}),r.a.createElement(S.a,{label:"7 Day"}))),r.a.createElement(C.a,{color:"secondary",className:"units-buttons"},r.a.createElement(v.a,{onClick:function(){return b("metric")},variant:"metric"===f?"contained":"outlined"},"C"),r.a.createElement(v.a,{onClick:function(){return b("imperial")},variant:"imperial"===f?"contained":"outlined"},"F")),r.a.createElement("div",{className:"title"},L," at ",Object(O.a)(i.current.date,"h:mm a 'Local Time on' MMMM d, y")),r.a.createElement(Q,{value:j,index:0},r.a.createElement(J,{conditions:i.current,units:f})),r.a.createElement(Q,{value:j,index:1},r.a.createElement(K,{forecast:i.hourly,units:f})),r.a.createElement(Q,{value:j,index:2},r.a.createElement(A,{forecast:i.daily,units:f})))}a(127);var G=Object(u.a)({typography:{fontFamily:["monospace"].join(",")}});var X=function(){return r.a.createElement("div",{id:"App"},r.a.createElement(m.a,{theme:G},r.a.createElement("h1",{className:"header"},r.a.createElement(i.b,{to:"/"},"Weather by Joel")),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/locations/lat/:lat/lon/:lon",component:$}),r.a.createElement(o.a,{path:"/",component:j}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a(128)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.808e8508.chunk.js.map